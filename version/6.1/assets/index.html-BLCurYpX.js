import{_ as a,c as i,e as o,a as t,f as n,b as l,d as r,r as p,o as d}from"./app-COAtNE67.js";const u={};function c(m,e){const s=p("RouteLink");return d(),i("div",null,[e[5]||(e[5]=o(`<h1 id="internal-http-host" tabindex="-1"><a class="header-anchor" href="#internal-http-host"><span>Internal HTTP Host</span></a></h1><p>By default, HTTP requests submitted by <em>NotifyBC</em> back to itself will be sent to <em>httpHost</em> if defined or the host of the incoming HTTP request that spawns such internal requests. But if config <em>internalHttpHost</em>, which has no default value, is defined, for example in file <em>src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">internalHttpHost</span><span class="token operator">:</span> <span class="token string">&#39;http://notifybc:3000&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),t("p",null,[e[1]||(e[1]=n("then the HTTP request will be sent to the configured host. An internal request can be generated, for example, by ")),l(s,{to:"/docs/config-cronJobs/"},{default:r(()=>e[0]||(e[0]=[n("cron jobs")])),_:1}),e[2]||(e[2]=n(". ")),e[3]||(e[3]=t("em",null,"internalHttpHost",-1)),e[4]||(e[4]=n(" shouldn't be accessible from internet."))]),e[6]||(e[6]=t("p",null,[n("All internal requests are supposed to be admin requests. The purpose of "),t("em",null,"internalHttpHost"),n(" is to facilitate identifying the internal server ip as admin ip.")],-1)),e[7]||(e[7]=t("div",{class:"hint-container tip"},[t("p",{class:"hint-container-title"},"Kubernetes Use Case"),t("p",null,[n("The Kubernetes deployment script sets "),t("i",null,"internalHttpHost"),n(" to "),t("em",null,"notify-bc-app"),n(" service url in config map. The source ip in such case would be in a private Kubernetes ip range. You should add this private ip range to "),t("a",{href:"../config-adminIpList/"},"admin ip list"),n(". The private ip range varies from Kubernetes installation. In BCGov's OCP4 cluster, it starts with octet 10.")])],-1))])}const h=a(u,[["render",c],["__file","index.html.vue"]]),b=JSON.parse('{"path":"/docs/config-internalHttpHost/","title":"Internal HTTP Host","lang":"en-US","frontmatter":{"permalink":"/docs/config-internalHttpHost/"},"headers":[],"git":{},"filePathRelative":"docs/config/internalHttpHost.md"}');export{h as comp,b as data};
