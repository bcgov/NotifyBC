<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" type="image/x-icon" href="/NotifyBC/version/5.0/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title>Subscription | NotifyBC</title><meta name="description" content="A versatile notification API server">
    <link rel="preload" href="/NotifyBC/version/5.0/assets/style-f13586ba.css" as="style"><link rel="stylesheet" href="/NotifyBC/version/5.0/assets/style-f13586ba.css">
    <link rel="modulepreload" href="/NotifyBC/version/5.0/assets/app-f418e719.js"><link rel="modulepreload" href="/NotifyBC/version/5.0/assets/index.html-a21a759d.js"><link rel="modulepreload" href="/NotifyBC/version/5.0/assets/index.html-caa38aac.js"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-692e45cb.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-7d2ae716.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-7dc4890d.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-15fde261.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-93ff6c80.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-09f857ca.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-70c61dd5.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a7337040.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-f8b7a659.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-ced62edd.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-88fcd172.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a2d4ab5c.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-6b858d80.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-549ff1f9.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-6e94f439.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-c46be575.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a70b6cf1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a9eb55a1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-f9768eb1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-6bb621c5.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-bc520f9b.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-42466a4a.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-3bc7b1c6.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-34c15120.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-2fb78bd6.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-963a4ecf.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-1d87c569.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a0e9a4ad.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-76d114a5.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-cdc6dd62.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-fae03536.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-6ca7c7e1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-568e376b.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-ccd9b97c.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-a48fd168.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-602c2540.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParam.html-d51cd871.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParamCode.html-293978be.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParamExample.html-c90c301f.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/jmespathFilter.html-7c48b0c1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/throttle.html-4a67c62e.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParam.html-10f3d62d.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParamCode.html-33176c09.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParamExample.html-68248e1c.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-4b8e7b68.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-4a4467c8.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-28320224.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-c2fa3c83.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-da8cdc66.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-3f1a945f.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-6fac6670.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-25860936.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-bf3d84c0.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-7a3248e2.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-5323e76d.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-c5ed2c2e.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-12f6c3f5.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-9fa03272.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-970a07e2.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-835b4386.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-df2b99a5.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-9d834f6d.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-60bc6cbd.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-34296287.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-c6f7ecce.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-b4c7c1a9.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-306bb23c.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-2c47465f.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-ba78949c.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-055dfab7.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-5f8e99fc.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-9a2d5a53.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-7614ead7.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-14ab6b08.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-cfdafcd1.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-076e018f.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-55a26ce9.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-f0272359.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-bb0114cb.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index.html-795a702e.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParam.html-1c30b26d.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParamCode.html-f9f536d8.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/filterQueryParamExample.html-aead753e.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/jmespathFilter.html-2b48aba7.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/throttle.html-900969ab.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParam.html-c37d5da6.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParamCode.html-dc499e76.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/whereQueryParamExample.html-eb1c6617.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/404.html-cd1a674e.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/NotifyBC/version/5.0/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><div class="nb-navbar-brand"><a href="/NotifyBC/version/5.0/" class=""><img class="logo" src="/NotifyBC/version/5.0/img/logo.svg" alt="NotifyBC"></a><!----></div></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/NotifyBC/version/5.0/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/version/5.0/docs/" class="router-link-active" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/version/5.0/help/" class="" aria-label="Help"><!--[--><!--]--> Help <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/bcgov/notifybc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/NotifyBC/version/5.0/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/version/5.0/docs/" class="router-link-active" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/version/5.0/help/" class="" aria-label="Help"><!--[--><!--]--> Help <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/bcgov/notifybc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/version/5.0/docs/" class="router-link-active sidebar-item" aria-label="Welcome"><!--[--><!--]--> Welcome <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/overview/" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/quickstart/" class="sidebar-item" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/installation/" class="sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/web-console/" class="sidebar-item" aria-label="Web Console"><!--[--><!--]--> Web Console <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/what&#39;s-new/" class="sidebar-item" aria-label="What&#39;s New"><!--[--><!--]--> What&#39;s New <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Configuration <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/version/5.0/docs/config-overview/" class="sidebar-item" aria-label="Configuration Overview"><!--[--><!--]--> Configuration Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-database/" class="sidebar-item" aria-label="Database"><!--[--><!--]--> Database <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-adminIpList/" class="sidebar-item" aria-label="Admin IP List"><!--[--><!--]--> Admin IP List <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-reverseProxyIpLists/" class="sidebar-item" aria-label="Reverse Proxy IP Lists"><!--[--><!--]--> Reverse Proxy IP Lists <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-httpHost/" class="sidebar-item" aria-label="HTTP Host"><!--[--><!--]--> HTTP Host <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-internalHttpHost/" class="sidebar-item" aria-label="Internal HTTP Host"><!--[--><!--]--> Internal HTTP Host <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-email/" class="sidebar-item" aria-label="Email"><!--[--><!--]--> Email <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-sms/" class="sidebar-item" aria-label="SMS"><!--[--><!--]--> SMS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/version/5.0/docs/config-subscription/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Subscription"><!--[--><!--]--> Subscription <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/NotifyBC/version/5.0/docs/config-subscription/#confirmation-request-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="Confirmation Request Message"><!--[--><!--]--> Confirmation Request Message <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/version/5.0/docs/config-subscription/#confirmation-verification-acknowledgement-messages" class="router-link-active router-link-exact-active sidebar-item" aria-label="Confirmation Verification Acknowledgement Messages"><!--[--><!--]--> Confirmation Verification Acknowledgement Messages <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/version/5.0/docs/config-subscription/#duplicated-subscription" class="router-link-active router-link-exact-active sidebar-item" aria-label="Duplicated Subscription"><!--[--><!--]--> Duplicated Subscription <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/version/5.0/docs/config-subscription/#anonymous-unsubscription" class="router-link-active router-link-exact-active sidebar-item" aria-label="Anonymous Unsubscription"><!--[--><!--]--> Anonymous Unsubscription <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/NotifyBC/version/5.0/docs/config-notification/" class="sidebar-item" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-nodeRoles/" class="sidebar-item" aria-label="Node Roles"><!--[--><!--]--> Node Roles <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-cronJobs/" class="sidebar-item" aria-label="Cron Jobs"><!--[--><!--]--> Cron Jobs <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-rsaKeys/" class="sidebar-item" aria-label="RSA Keys"><!--[--><!--]--> RSA Keys <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-workerProcessCount/" class="sidebar-item" aria-label="Worker Process Count"><!--[--><!--]--> Worker Process Count <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-middleware/" class="sidebar-item" aria-label="Middleware"><!--[--><!--]--> Middleware <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-oidc/" class="sidebar-item" aria-label="OIDC"><!--[--><!--]--> OIDC <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/config-certificates/" class="sidebar-item" aria-label="TLS Certificates"><!--[--><!--]--> TLS Certificates <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">API <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/version/5.0/docs/api-overview/" class="sidebar-item" aria-label="API Overview"><!--[--><!--]--> API Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/api-subscription/" class="sidebar-item" aria-label="Subscription"><!--[--><!--]--> Subscription <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/api-notification/" class="sidebar-item" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/api-config/" class="sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/api-administrator/" class="sidebar-item" aria-label="Administrator"><!--[--><!--]--> Administrator <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/api-bounce/" class="sidebar-item" aria-label="Bounce"><!--[--><!--]--> Bounce <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Miscellaneous <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/version/5.0/docs/benchmarks/" class="sidebar-item" aria-label="Benchmarks"><!--[--><!--]--> Benchmarks <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/bulk-import/" class="sidebar-item" aria-label="Bulk Import"><!--[--><!--]--> Bulk Import <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/developer-notes/" class="sidebar-item" aria-label="Developer Notes"><!--[--><!--]--> Developer Notes <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/upgrade/" class="sidebar-item" aria-label="Upgrade Guide"><!--[--><!--]--> Upgrade Guide <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Meta <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/version/5.0/docs/conduct/" class="sidebar-item" aria-label="Code of Conduct"><!--[--><!--]--> Code of Conduct <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/version/5.0/docs/acknowledgments/" class="sidebar-item" aria-label="Acknowledgments"><!--[--><!--]--> Acknowledgments <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="subscription" tabindex="-1"><a class="header-anchor" href="#subscription" aria-hidden="true">#</a> Subscription</h1><p>Configs in this section customize behavior of subscription and unsubscription workflow. They are all sub-properties of config object <em>subscription</em>. This object can be defined as service-agnostic static config as well as service-specific dynamic config, which overrides the static one on a service-by-service basis. Default static config is defined in file <em>/src/config.ts</em>. There is no default dynamic config.</p><p>To customize static config, create the config object <em>subscription</em> in file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a id="subscription-confirmation-request-template"></a> to create a service-specific dynamic subscription config, use REST <a href="/NotifyBC/version/5.0/docs/api-config/" class="">config api</a></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST http://localhost:3000/api/configurations <span class="token punctuation">\</span>
<span class="token parameter variable">-H</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-H</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token parameter variable">-d</span> @- <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
{
  &quot;name&quot;: &quot;subscription&quot;,
  &quot;serviceName&quot;: &quot;myService&quot;,
  &quot;value&quot;: {
     ...
  }
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sub-properties denoted by ellipsis in the above two code blocks are documented below. A service can have at most one dynamic subscription config.</p><h2 id="confirmation-request-message" tabindex="-1"><a class="header-anchor" href="#confirmation-request-message" aria-hidden="true">#</a> Confirmation Request Message</h2><p>To prevent <em>NotifyBC</em> from being used as spam engine, when a subscription request is sent by user (as opposed to admin) without encryption, the content of confirmation request sent to user&#39;s notification channel has to come from a pre-configured template as opposed to be specified in subscription request.</p><p>The following default subscription sub-property <em>confirmationRequest</em> defines confirmation request message settings for different channels</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;confirmationRequest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;confirmationCodeRegex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\d{5}&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sendRequest&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;textBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Enter {confirmation_code} on screen&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;confirmationCodeRegex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\d{5}&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sendRequest&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no_reply@invlid.local&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Subscription confirmation&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;textBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Enter {confirmation_code} on screen&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;htmlBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Enter {confirmation_code} on screen&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="confirmation-verification-acknowledgement-messages" tabindex="-1"><a class="header-anchor" href="#confirmation-verification-acknowledgement-messages" aria-hidden="true">#</a> Confirmation Verification Acknowledgement Messages</h2><p>You can customize <em>NotifyBC</em>&#39;s on-screen response message to confirmation code verification requests. The following is the default settings</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;confirmationAcknowledgements&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;successMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;You have been subscribed.&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;failureMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Error happened while confirming subscription.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition to customizing the message, you can define a redirect URL instead of displaying <em>successMessage</em> or <em>failureMessage</em>. For example, to redirect on-screen acknowledgement to a page in your app for service <em>myService</em>, create a dynamic config by calling REST config api</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&#39;http://localhost:3000/api/configurations&#39;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-H</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-H</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token parameter variable">-d</span> @- <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
{
  &quot;name&quot;: &quot;subscription&quot;,
  &quot;serviceName&quot;: &quot;myService&quot;,
  &quot;value&quot;: {
    &quot;confirmationAcknowledgements&quot;: {
      &quot;redirectUrl&quot;: &quot;https://myapp/subscription/acknowledgement&quot;
    }
  }
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If error happened during subscription confirmation, query string <em>?err=&lt;error&gt;</em> will be appended to <em>redirectUrl</em>.</p><h2 id="duplicated-subscription" tabindex="-1"><a class="header-anchor" href="#duplicated-subscription" aria-hidden="true">#</a> Duplicated Subscription</h2><p><em>NotifyBC</em> by default allows a user subscribe to a service through same channel multiple times. If this is undesirable, you can set config <em>subscription.detectDuplicatedSubscription</em> to true. In such case instead of sending user a confirmation request, <em>NotifyBC</em> sends user a duplicated subscription notification message. Unlike a confirmation request, duplicated subscription notification message either shouldn&#39;t contain any information to allow user confirm the subscription, or it should contain a link that allows user to replace existing confirmed subscription with this one. You can customize duplicated subscription notification message by setting config <em>subscription.duplicatedSubscriptionNotification</em> in either <em>config.local.js</em> or using configuration api for service-specific dynamic config. Following is the default settings defined in <em>config.json</em></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;detectDuplicatedSubscription&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duplicatedSubscriptionNotification&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;textBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A duplicated subscription was submitted and rejected. you will continue receiving notifications. If the request was not created by you, pls ignore this msg.&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no_reply@invalid.local&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Duplicated Subscription&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;textBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A duplicated subscription was submitted and rejected. you will continue receiving notifications. If the request was not created by you, please ignore this message.&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To allow user to replace existing confirmed subscription, set the message to something like</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;detectDuplicatedSubscription&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duplicatedSubscriptionNotification&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;textBody&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A duplicated subscription was submitted. If the request is not submitted by you, please ignore this message. Otherwise if you want to replace existing subscription with this one, click {subscription_confirmation_url}&amp;replace=true.&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The query parameter <em>&amp;replace=true</em> following the token <em>{subscription_confirmation_url}</em> will cause existing subscription be replaced.</p><h2 id="anonymous-unsubscription" tabindex="-1"><a class="header-anchor" href="#anonymous-unsubscription" aria-hidden="true">#</a> Anonymous Unsubscription</h2><p>For anonymous subscription, <em>NotifyBC</em> supports one-click opt-out by allowing unsubscription URL provided in notifications. To thwart unauthorized unsubscription attempts, <em>NotifyBC</em> implemented and enabled by default two security measurements</p><ul><li>Anonymous unsubscription request requires unsubscription code, which is a random string generated at subscription time. Unsubscription code reduces brute force attack risk by increasing size of key space. Without it, an attacker only needs to successfully guess subscription id. Be aware, however, the unsubscription code has to be embedded in unsubscription link. If the user forwarded a notification to other people, he/she is still vulnerable to unauthorized unsubscription.</li><li>Acknowledgement notification - a (final) notification is sent to user acknowledging unsubscription, and offers a link to revert had the change been made unauthorized. A deleted subscription (unsubscription) may have a limited lifetime (30 days by default) according to retention policy defined in <a href="/NotifyBC/version/5.0/docs/config-cronJobs/" class="">cron jobs</a> so the reversion can only be performed within the lifetime.</li></ul><p>You can customize anonymous unsubscription settings by changing the <em>anonymousUnsubscription</em> configuration. Following is the default settings defined in <a href="https://github.com/bcgov/NotifyBC/blob/main/src/config.ts" target="_blank" rel="noopener noreferrer">config.json<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  subscription<span class="token operator">:</span> <span class="token punctuation">{</span>
    anonymousUnsubscription<span class="token operator">:</span> <span class="token punctuation">{</span>
      code<span class="token operator">:</span> <span class="token punctuation">{</span>
        required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        regex<span class="token operator">:</span> <span class="token string">&#39;\\d{5}&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      acknowledgements<span class="token operator">:</span> <span class="token punctuation">{</span>
        onScreen<span class="token operator">:</span> <span class="token punctuation">{</span>
          successMessage<span class="token operator">:</span> <span class="token string">&#39;You have been un-subscribed.&#39;</span><span class="token punctuation">,</span>
          failureMessage<span class="token operator">:</span> <span class="token string">&#39;Error happened while un-subscribing.&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        notification<span class="token operator">:</span> <span class="token punctuation">{</span>
          email<span class="token operator">:</span> <span class="token punctuation">{</span>
            from<span class="token operator">:</span> <span class="token string">&#39;no_reply@invalid.local&#39;</span><span class="token punctuation">,</span>
            subject<span class="token operator">:</span> <span class="token string">&#39;Un-subscription acknowledgement&#39;</span><span class="token punctuation">,</span>
            textBody<span class="token operator">:</span>
              <span class="token string">&#39;This is to acknowledge you have been un-subscribed from receiving notification for {unsubscription_service_names}. If you did not authorize this change or if you changed your mind, open {unsubscription_reversion_url} to revert.&#39;</span><span class="token punctuation">,</span>
            htmlBody<span class="token operator">:</span>
              <span class="token string">&#39;This is to acknowledge you have been un-subscribed from receiving notification for {unsubscription_service_names}. If you did not authorize this change or if you changed your mind, click &lt;a href=&quot;{unsubscription_reversion_url}&quot;&gt;here&lt;/a&gt; to revert.&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The settings control whether or not unsubscription code is required, its RegEx pattern, and acknowledgement message templates for both on-screen and push notifications. Customization should be made to file <em>/src/config.local.js</em> for static config or using configuration api for service-specific dynamic config.</p><p>To disable acknowledgement notification, set <em>subscription.anonymousUnsubscription.acknowledgements.notification</em> or a specific channel underneath to <em>null</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">subscription</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">anonymousUnsubscription</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">acknowledgements</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">notification</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For on-screen acknowledgement, you can define a redirect URL instead of displaying <em>successMessage</em> or <em>failureMessage</em>. For example, to redirect on-screen acknowledgement to a page in your app for all services, create following config in file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">subscription</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">anonymousUnsubscription</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">acknowledgements</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">onScreen</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">redirectUrl</span><span class="token operator">:</span> <span class="token string">&#39;https://myapp/unsubscription/acknowledgement&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If error happened during unsubscription, query string <em>?err=&lt;error&gt;</em> will be appended to <em>redirectUrl</em>.</p><p><a name="anonymousUndoUnsubscription"></a> You can customize message displayed on-screen when user clicks revert unsubscription link in the acknowledgement notification. The default settings are</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;subscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;anonymousUndoUnsubscription&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;successMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;You have been re-subscribed.&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;failureMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Error happened while re-subscribing.&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can redirect the message page by defining <em>anonymousUndoUnsubscription.redirectUrl</em>.</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/NotifyBC/version/5.0/docs/config-sms/" class="" aria-label="SMS"><!--[--><!--]--> SMS <!--[--><!--]--></a></span><span class="next"><a href="/NotifyBC/version/5.0/docs/config-notification/" class="" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/NotifyBC/version/5.0/assets/app-f418e719.js" defer></script>
  </body>
</html>
