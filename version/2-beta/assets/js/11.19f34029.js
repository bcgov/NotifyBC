(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{407:function(t,e,a){"use strict";a.r(e);var s=a(42),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"administrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#administrator"}},[t._v("#")]),t._v(" Administrator")]),t._v(" "),a("p",[t._v("The administrator API provides knowledge factor authentication to identify admin request by access token (aka API token), as opposed to possession factor admin ip list. Because knowledge factor authentication is vulnerable to brute-force attack, administrator API is less favorable than admin ip list. Administrator API is advised to be used only when obtaining client's ip or ip range is infeasible.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ProTipsâ„¢ Example Use Case")]),t._v(" "),a("p",[t._v("Administrator API was created to circumvent an OpenShift limitation - the source ip of a request initiated from an OpenShift pod cannot be exclusively allocated to the pod's project, rather it has to be shared by all OpenShift projects. Therefore it's difficult to impose granular access control based on source ip.")])]),t._v(" "),a("p",[t._v("To enable access token authentication,")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("a super-admin "),a("a",{attrs:{href:"#sign-up"}},[t._v("signs up")]),t._v(" an administrator")]),t._v(" "),a("p",[t._v("For example,")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:3000/api/administrators"')]),t._v(" -H  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accept: application/json"')]),t._v(" -H  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("username"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Foo"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("email"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("user@example.com"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("password"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("secret"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Either super-admin or the user "),a("a",{attrs:{href:"#login"}},[t._v("login")]),t._v(" to generate an access token")]),t._v(" "),a("p",[t._v("For example,")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:3000/api/administrators/login"')]),t._v(" -H  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accept: application/json"')]),t._v(" -H  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("email"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("user@example.com"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("password"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("secret"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("tokenName"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("myApp"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Apply access token to either "),a("em",[t._v("Authorization")]),t._v(" header or "),a("em",[t._v("access_token")]),t._v(" query parameter to make authenticated requests")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("6Nb2ti5QEXIoDBS5FQGWIz4poRFiBCMMYJbYXSGHWuulOuy0GTEuGx2VCEVvbpBK\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Authorization Header")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X GET -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ACCESS_TOKEN")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\nhttp://localhost:3000/api/widgets\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Query Parameter")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X GET http://localhost:3000/api/widgets?access_token"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ACCESS_TOKEN")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"model-schemas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#model-schemas"}},[t._v("#")]),t._v(" Model Schemas")]),t._v(" "),a("p",[t._v("The "),a("em",[t._v("Administrator")]),t._v(" API operates on three related sub-models - "),a("em",[t._v("Administrator")]),t._v(", "),a("em",[t._v("UserCredential")]),t._v(" and "),a("em",[t._v("AccessToken")]),t._v(". An administrator has one and only one user credential and zero or more access tokens. Their relationship is diagramed as")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/img/admin-data-models.svg"),alt:"administrator model diagram"}}),t._v(" "),a("h3",{attrs:{id:"administrator-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#administrator-2"}},[t._v("#")]),t._v(" Administrator")]),t._v(" "),a("table",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Attributes")])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("id")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string, format depends on db")])]),t._v(" "),a("tr",[a("td",[t._v("auto-generated")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("email")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("true")])]),t._v(" "),a("tr",[a("td",[t._v("unique")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("username")]),t._v(" "),a("p",{staticClass:"description"},[t._v("user name")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("false")])])])])])]),t._v(" "),a("h3",{attrs:{id:"usercredential"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usercredential"}},[t._v("#")]),t._v(" UserCredential")]),t._v(" "),a("table",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Attributes")])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("id")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string, format depends on db")])]),t._v(" "),a("tr",[a("td",[t._v("auto-generated")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("password")]),t._v(" "),a("p",{staticClass:"description"},[t._v("hashed password")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("userId")]),t._v(" "),a("p",{staticClass:"description"},[t._v("foreign key to Administrator model")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("true")])])])])])]),t._v(" "),a("h3",{attrs:{id:"accesstoken"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accesstoken"}},[t._v("#")]),t._v(" AccessToken")]),t._v(" "),a("table",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Attributes")])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("id")]),t._v(" "),a("p",{staticClass:"description"},[t._v("64-byte random alphanumeric characters")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("auto-generated")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("userId")]),t._v(" "),a("p",{staticClass:"description"},[t._v("foreign key to Administrator model")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("true")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("ttl")]),t._v(" "),a("p",{staticClass:"description"},[t._v("Time-to-live in seconds. If absent, access token never expires.")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("number")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("false")])])])])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"name"},[t._v("name")]),t._v(" "),a("p",{staticClass:"description"},[t._v("Name of the access token. Can be used to identify applications that use the token.")])]),t._v(" "),a("td",[a("table",[a("tr",[a("td",[t._v("type")]),a("td",[t._v("string")])]),t._v(" "),a("tr",[a("td",[t._v("required")]),a("td",[t._v("false")])])])])])]),t._v(" "),a("h2",{attrs:{id:"sign-up"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sign-up"}},[t._v("#")]),t._v(" Sign Up")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /administrators\n")])])]),a("ul",[a("li",[t._v("permissions required, one of\n"),a("ul",[a("li",[t._v("super admin")])])]),t._v(" "),a("li",[t._v("inputs\n"),a("ul",[a("li",[t._v("user information"),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("em",[t._v("email")]),t._v(" must be unique. "),a("em",[t._v("username")]),t._v(" is optional.\n"),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])]),t._v(" "),a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admin requests,\n"),a("ul",[a("li",[t._v("an "),a("em",[t._v("Administrator")]),t._v(" is generated, populated with "),a("em",[t._v("email")]),t._v(" and "),a("em",[t._v("username")])]),t._v(" "),a("li",[t._v("a "),a("em",[t._v("UserCredential")]),t._v(" is generated, populated with hashed "),a("em",[t._v("password")])]),t._v(" "),a("li",[a("em",[t._v("Administrator")]),t._v(" is returned")])])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#login"}},[t._v("#")]),t._v(" Login")]),t._v(" "),a("p",[t._v("This API allows an administrator to login and create an access token")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /administrators/login\n")])])]),a("ul",[a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("user information")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user@example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tokenName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("em",[t._v("tokenName")]),t._v(" and "),a("em",[t._v("ttl")]),t._v(" are optional. If "),a("em",[t._v("ttl")]),t._v(" is "),a("em",[t._v("absent")]),t._v(", access token never expires.")]),t._v(" "),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])]),t._v(" "),a("li",[a("p",[t._v("outcome")]),t._v(" "),a("ul",[a("li",[t._v("if login is successful\n"),a("ul",[a("li",[t._v("a new "),a("em",[t._v("AccessToken")]),t._v(" is generated with "),a("em",[t._v("tokenName")]),t._v(" is saved to "),a("em",[t._v("AccessToken.name")]),t._v(" and "),a("em",[t._v("ttl")]),t._v(" is saved to "),a("em",[t._v("AccessToken.ttl")]),t._v(".")]),t._v(" "),a("li",[t._v("the new access token is returned"),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"get-administrators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-administrators"}},[t._v("#")]),t._v(" Get Administrators")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to search for administrators. An admin can only search for own record")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /administrators\n")])])]),a("ul",[a("li",[t._v("permissions required, one of\n"),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[t._v("inputs\n"),a("ul",[a("li",[t._v("a filter defining fields, where, include, order, offset, and limit. See "),a("a",{attrs:{href:"https://loopback.io/doc/en/lb4/Querying-data.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Loopback Querying Data"),a("OutboundLink")],1),t._v(" for valid syntax and examples\n"),a("ul",[a("li",[t._v("parameter name: filter")]),t._v(" "),a("li",[t._v("required: false")]),t._v(" "),a("li",[t._v("parameter type: query")]),t._v(" "),a("li",[t._v("data type: object")])])])])]),t._v(" "),a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admins, returns an array of "),a("em",[t._v("Administrators")]),t._v(" matching the filter")]),t._v(" "),a("li",[t._v("for admins, returns an array of one element - own record if the record matches the filter; empty array otherwise")]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"update-administrators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-administrators"}},[t._v("#")]),t._v(" Update Administrators")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to update administrators. An admin can only update own record")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PATCH /administrators\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("a "),a("a",{attrs:{href:"https://loopback.io/doc/en/lb4/Where-filter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("where filter"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("parameter name: where")]),t._v(" "),a("li",[t._v("required: false")]),t._v(" "),a("li",[t._v("parameter type: query")]),t._v(" "),a("li",[t._v("data type: object")])])]),t._v(" "),a("li",[a("p",[t._v("user information")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])]),t._v(" "),a("li",[a("p",[t._v("outcome")]),t._v(" "),a("ul",[a("li",[t._v("for super-admins or admin, successful count")]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"count-administrators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#count-administrators"}},[t._v("#")]),t._v(" Count Administrators")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to count administrators by filter. An admin can only count own record therefore the number is at most 1.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /administrators/count\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[t._v("a "),a("a",{attrs:{href:"https://loopback.io/doc/en/lb4/Where-filter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("where filter"),a("OutboundLink")],1),t._v(" "),a("ul",[a("li",[t._v("parameter name: where")]),t._v(" "),a("li",[t._v("required: false")]),t._v(" "),a("li",[t._v("parameter type: query")]),t._v(" "),a("li",[t._v("data type: object")])])])])]),t._v(" "),a("li",[a("p",[t._v("outcome")]),t._v(" "),a("ul",[a("li",[t._v("for super-admins or admin, a count matching the filter")]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"delete-an-administrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-an-administrator"}},[t._v("#")]),t._v(" Delete an Administrator")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to delete administrator by id. An admin can only delete own record.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE /administrators/{id}\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("Administrator")]),t._v(" id\n"),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])])])]),t._v(" "),a("li",[a("p",[t._v("outcome")]),t._v(" "),a("ul",[a("li",[t._v("for super-admins or admin\n"),a("ul",[a("li",[t._v("all "),a("em",[t._v("AccessToken")]),t._v(" of the "),a("em",[t._v("Administrator")]),t._v(" are deleted")]),t._v(" "),a("li",[t._v("the corresponding "),a("em",[t._v("UserCredential")]),t._v(" is deleted")]),t._v(" "),a("li",[t._v("the "),a("em",[t._v("Administrator")]),t._v(" is deleted")])])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"get-an-administrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-an-administrator"}},[t._v("#")]),t._v(" Get an Administrator")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to get administrator by id. An admin can only get own record.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /administrators/{id}\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("Administrator")]),t._v(" id\n"),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])])])]),t._v(" "),a("li",[a("p",[t._v("outcome")]),t._v(" "),a("ul",[a("li",[t._v("for super-admins or admin, returns the "),a("em",[t._v("Administrator")])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"update-an-administrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-an-administrator"}},[t._v("#")]),t._v(" Update an Administrator")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to update administrator fields by id. An admin can only update own record.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PATCH /administrators/{id}\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[t._v("Administrator")]),t._v(" id")]),t._v(" "),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])]),t._v(" "),a("li",[a("p",[t._v("user information")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])])]),t._v(" "),a("ul",[a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admins or admin, updates the "),a("em",[t._v("Administrator")])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"replace-an-administrator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replace-an-administrator"}},[t._v("#")]),t._v(" Replace an Administrator")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to replace administrator records by id. An admin can only replace own record. This API is different from "),a("a",{attrs:{href:"#update-an-administrator"}},[t._v("Update an Administrator")]),t._v(" in that update/patch needs only to contain fields that are changed, ie the delta, whereas replace/put needs to contain all fields to be saved.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PUT /administrators/{id}\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[t._v("Administrator")]),t._v(" id")]),t._v(" "),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])]),t._v(" "),a("li",[a("p",[t._v("user information")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])])]),t._v(" "),a("ul",[a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admins or admin, updates the "),a("em",[t._v("Administrator")])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"update-an-administrator-s-usercredential"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-an-administrator-s-usercredential"}},[t._v("#")]),t._v(" Update an Administrator's UserCredential")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to update password by id. An admin can only update own record.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PATCH /administrators/{id}/user-credential\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[t._v("Administrator")]),t._v(" id")]),t._v(" "),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])]),t._v(" "),a("li",[a("p",[t._v("user information")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: request body")]),t._v(" "),a("li",[t._v("data type: object")])])])])])]),t._v(" "),a("ul",[a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admins or admin, hash the input password and update to "),a("em",[t._v("UserCredential.password")])]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])]),t._v(" "),a("h2",{attrs:{id:"get-an-administrator-s-accesstokens"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-an-administrator-s-accesstokens"}},[t._v("#")]),t._v(" Get an Administrator's AccessTokens")]),t._v(" "),a("p",[t._v("This API allows a super-admin or admin to get access tokens by "),a("em",[t._v("Administrator")]),t._v(" id. An admin can only get own records.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /administrators/{id}/access-tokens\n")])])]),a("ul",[a("li",[a("p",[t._v("permissions required, one of")]),t._v(" "),a("ul",[a("li",[t._v("super admin")]),t._v(" "),a("li",[t._v("admin")])])]),t._v(" "),a("li",[a("p",[t._v("inputs")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("Administrator")]),t._v(" id\n"),a("ul",[a("li",[t._v("required: true")]),t._v(" "),a("li",[t._v("parameter type: path")]),t._v(" "),a("li",[t._v("data type: string")])])]),t._v(" "),a("li",[t._v("a "),a("em",[t._v("AccessToken")]),t._v(" filter defining fields, where, include, order, offset, and limit. See "),a("a",{attrs:{href:"https://loopback.io/doc/en/lb4/Querying-data.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Loopback Querying Data"),a("OutboundLink")],1),t._v(" for valid syntax and examples\n"),a("ul",[a("li",[t._v("parameter name: filter")]),t._v(" "),a("li",[t._v("required: false")]),t._v(" "),a("li",[t._v("parameter type: query")]),t._v(" "),a("li",[t._v("data type: object")])])])])])]),t._v(" "),a("ul",[a("li",[t._v("outcome\n"),a("ul",[a("li",[t._v("for super-admins or admin, a list of "),a("em",[t._v("AccessToken")]),t._v("s matching the filter")]),t._v(" "),a("li",[t._v("forbidden otherwise")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);