<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" type="image/x-icon" href="/NotifyBC/preview/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title>Configuration | NotifyBC</title><meta name="description" content="A versatile notification API server">
    <link rel="preload" href="/NotifyBC/preview/assets/style-BwJoByYn.css" as="style"><link rel="stylesheet" href="/NotifyBC/preview/assets/style-BwJoByYn.css">
    <link rel="modulepreload" href="/NotifyBC/preview/assets/app-DrF2tchn.js"><link rel="modulepreload" href="/NotifyBC/preview/assets/index.html-CyvUmweQ.js">
    <link rel="prefetch" href="/NotifyBC/preview/assets/index.html-D1bwzPYG.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BX22N1QK.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-dPROm0zA.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DUKAfDDy.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CuY9LSxN.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-51DYNxrt.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BBw9two6.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-_rLHxpnY.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BsTJImZQ.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BevUt8Lm.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-B3WQBgRC.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BKc90foQ.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CLcfsGzw.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DRQwT2ll.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-0oZjBGAG.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-aVpAZ4Ly.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-YbgaemVU.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-Bp8ghb_7.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BwI22Vcm.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-0VtHLn9n.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-LsD23NST.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CjOFA3O4.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-jQ0GEiBB.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BMGkvMEf.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CynD99Oj.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CJlfpDwC.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-C6WDqLJ2.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DfDYIK9b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-eX3h15XH.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-Bw3hSYiS.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CUgbdwQo.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DiaH-FoJ.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CshAnDyi.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DARtO1hx.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DUXrAX7q.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-Dpo7l_Ua.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-CX4kdkOh.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BXFa0943.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-BRAVTLu_.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-DE0gGOTR.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParam.html-BMxYARsl.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamCode.html-2LFmXNQi.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamExample.html-B97MG-Xg.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/jmespathFilter.html-CJqC2SK4.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParam.html-B7lHcu5B.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamCode.html-BJjDeMHR.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamExample.html--pvEbptF.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/404.html-BNaori1v.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index-DjpUunl4.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/mermaid.esm.min-B9NBQvng.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/setupDevtools-7MC2TMWH-Co611uA1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><!--[--><a class="route-link" href="/NotifyBC/preview/"><img class="vp-site-logo" src="/NotifyBC/preview/img/logo.svg" alt="NotifyBC"></a><!----><!--]--></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/NotifyBC/preview/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/NotifyBC/preview/docs/" aria-label="Docs"><!---->Docs<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/NotifyBC/preview/help/" aria-label="Help"><!---->Help<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/bcgov/notifybc" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/NotifyBC/preview/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/NotifyBC/preview/docs/" aria-label="Docs"><!---->Docs<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/NotifyBC/preview/help/" aria-label="Help"><!---->Help<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/bcgov/notifybc" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Getting Started <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/" aria-label="Welcome"><!---->Welcome<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/overview/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/quickstart/" aria-label="Quick Start"><!---->Quick Start<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/installation/" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/web-console/" aria-label="Web Console"><!---->Web Console<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/what&#39;s-new/" aria-label="What&#39;s New"><!---->What&#39;s New<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Configuration <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-overview/" aria-label="Configuration Overview"><!---->Configuration Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-database/" aria-label="Database"><!---->Database<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-adminIpList/" aria-label="Admin IP List"><!---->Admin IP List<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-reverseProxyIpLists/" aria-label="Reverse Proxy IP Lists"><!---->Reverse Proxy IP Lists<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-httpHost/" aria-label="HTTP Host"><!---->HTTP Host<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-internalHttpHost/" aria-label="Internal HTTP Host"><!---->Internal HTTP Host<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-email/" aria-label="Email"><!---->Email<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-sms/" aria-label="SMS"><!---->SMS<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-subscription/" aria-label="Subscription"><!---->Subscription<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-notification/" aria-label="Notification"><!---->Notification<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-nodeRoles/" aria-label="Node Roles"><!---->Node Roles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-cronJobs/" aria-label="Cron Jobs"><!---->Cron Jobs<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-rsaKeys/" aria-label="RSA Keys"><!---->RSA Keys<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-workerProcessCount/" aria-label="Worker Process Count"><!---->Worker Process Count<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-middleware/" aria-label="Middleware"><!---->Middleware<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-oidc/" aria-label="OIDC"><!---->OIDC<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-certificates/" aria-label="TLS Certificates"><!---->TLS Certificates<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/config-queue/" aria-label="Queue"><!---->Queue<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">API <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/api-overview/" aria-label="API Overview"><!---->API Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/api-subscription/" aria-label="Subscription"><!---->Subscription<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/api-notification/" aria-label="Notification"><!---->Notification<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/NotifyBC/preview/docs/api-config/" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/api-administrator/" aria-label="Administrator"><!---->Administrator<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/api-bounce/" aria-label="Bounce"><!---->Bounce<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Miscellaneous <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/health-check/" aria-label="Health Check"><!---->Health Check<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/disaster-recovery/" aria-label="Disaster Recovery"><!---->Disaster Recovery<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/memory-dump/" aria-label="Memory Dump"><!---->Memory Dump<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/benchmarks/" aria-label="Benchmarks"><!---->Benchmarks<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/bulk-import/" aria-label="Bulk Import"><!---->Bulk Import<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/developer-notes/" aria-label="Developer Notes"><!---->Developer Notes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/upgrade/" aria-label="Upgrade Guide"><!---->Upgrade Guide<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Meta <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/conduct/" aria-label="Code of Conduct"><!---->Code of Conduct<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/NotifyBC/preview/docs/acknowledgments/" aria-label="Acknowledgments"><!---->Acknowledgments<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h1><p>The configuration API, accessible by only super-admin requests, is used to define dynamic configurations. Dynamic configuration is needed in situations like</p><ul><li>RSA key pair generated automatically at boot time if not present</li><li>service-specific subscription confirmation request message template</li></ul><h2 id="model-schema" tabindex="-1"><a class="header-anchor" href="#model-schema"><span>Model Schema</span></a></h2><p>The API operates on following configuration data model fields:</p><table><tr><th>Name</th><th>Attributes</th></tr><tr><td><p class="name">id</p><p class="description">config id</p></td><td><table><tr><td>type</td><td>string, format depends on db</td></tr><tr><td>auto-generated</td><td>true</td></tr></table></td></tr><tr><td><p class="name">name</p><p class="description">config name</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>true</td></tr></table></td></tr><tr><td><p class="name">value</p><div class="description">config value. </div></td><td><table><tr><td>type</td><td>object</td></tr><tr><td>required</td><td>true</td></tr></table></td></tr><tr><td><p class="name">serviceName</p><p class="description">name of the service the config applicable to</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>false</td></tr></table></td></tr></table><h2 id="get-configurations" tabindex="-1"><a class="header-anchor" href="#get-configurations"><span>Get Configurations</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">GET /configurations</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p>a filter containing properties <em>where</em>, <em>fields</em>, <em>order</em>, <em>skip</em>, and <em>limit</em></p><ul><li>parameter name: filter</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The filter can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs</a>, for example <code>?filter[where][created][$gte]=&quot;2023-01-01&quot;&amp;filter[where][created][$lt]=&quot;2024-01-01&quot;</code></li></ol><p>Regardless, the filter will have to be parsed into a JSON object conforming to</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;order&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All properties are optional. The syntax for each property is documented, respectively</p><ul><li>for <em>where</em> , see MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents</a></li><li>for <em>fields</em> , see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.select()" target="_blank" rel="noopener noreferrer">select</a></li><li>for <em>order</em>, see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.sort()" target="_blank" rel="noopener noreferrer">sort</a></li><li>for <em>skip</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.skip/" target="_blank" rel="noopener noreferrer">cursor.skip</a></li><li>for <em>limit</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.limit/" target="_blank" rel="noopener noreferrer">cursor.limit</a></li></ul></li></ul></li><li><p>outcome</p><p>For admin request, a list of config items matching the filter; forbidden for user request</p></li><li><p>example</p><p>to retrieve configs created in year 2023, run</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token parameter variable">--header</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/configurations?filter=%7B%22where%22%3A%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D%7D&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>the value of the filter query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="create-a-configuration" tabindex="-1"><a class="header-anchor" href="#create-a-configuration"><span>Create a Configuration</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">POST /configurations</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li>an object containing configuration data model fields. At a minimum all required fields that don&#39;t have a default value must be supplied. Id field should be omitted since it&#39;s auto-generated. The API explorer only created an empty object for field <em>value</em> but you should populate the child fields. <ul><li>parameter name: data</li><li>required: true</li><li>parameter type: body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><p><em>NotifyBC</em> performs following actions in sequence</p><ol><li>if it’s a user request, error is returned</li><li>inputs are validated. For example, required fields without default values must be populated. If validation fails, error is returned</li><li>if config item is <em>notification</em> with field <em>value.rss</em> populated, and if the field <em>value.httpHost</em> is missing, it is generated using this request&#39;s HTTP protocol , host name and port.</li><li>item is saved to database</li></ol></li></ul><ul><li><p>example</p><p>see the cURL command on how to create a <a href="../config-subscription#subscription-confirmation-request-template">dynamic subscription config</a></p></li></ul><h2 id="update-a-configuration" tabindex="-1"><a class="header-anchor" href="#update-a-configuration"><span>Update a Configuration</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">PATCH /configurations/{id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li>configuration id <ul><li>parameter name: id</li><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li>an object containing fields to be updated. <ul><li>parameter name: data</li><li>required: true</li><li>parameter type: body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><p>Similar to <em>POST</em> except field <em>update</em> is always updated with current timestamp.</p></li></ul><h2 id="update-configurations" tabindex="-1"><a class="header-anchor" href="#update-configurations"><span>Update Configurations</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">PATCH /configurations</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p>a <em>where</em> query parameter with value conforming to MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents</a></p><ul><li>parameter name: where</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The value can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs</a>, for example <code>?where[created][$gte]=&quot;2023-01-01&quot;&amp;where[created][$lt]=&quot;2024-01-01&quot;</code></li></ol></li><li><p>an object containing fields to be updated.</p><ul><li>required: true</li><li>parameter type: body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><p>Similar to <em>POST</em> except field <em>update</em> is always updated with current timestamp.</p></li><li><p>example</p><p>to set <em>serviceName</em> to <em>myService</em> for all configs created in year 2023 , run</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> PATCH <span class="token parameter variable">--header</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/configurations?where=%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D&#39;</span> <span class="token parameter variable">-d</span> @- <span class="token operator">&lt;&lt;</span> <span class="token string">EOF</span>
<span class="line">{</span>
<span class="line">  &quot;serviceName&quot;: &quot;myService&quot;,</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>the value of the <em>where</em> query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="delete-a-configuration" tabindex="-1"><a class="header-anchor" href="#delete-a-configuration"><span>Delete a Configuration</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">DELETE /configurations/{id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li>configuration id <ul><li>parameter name: id</li><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li></ul></li><li><p>outcome</p><p>For admin request, delete the config item requested; forbidden for user request</p></li></ul><h2 id="replace-a-configuration" tabindex="-1"><a class="header-anchor" href="#replace-a-configuration"><span>Replace a Configuration</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">PUT /configurations/{id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This API is intended to be only used by admin web console to modify a configuration.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li>configuration id <ul><li>parameter name: id</li><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li>configuration data <ul><li>parameter name: data</li><li>required: true</li><li>parameter type: body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><p>For admin requests, replace configuration identified by <em>id</em> with parameter <em>data</em> and save to database.</p></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/NotifyBC/preview/docs/api-notification/" aria-label="Notification"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Notification</span></div></a><a class="route-link auto-link next" href="/NotifyBC/preview/docs/api-administrator/" aria-label="Administrator"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Administrator</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/NotifyBC/preview/assets/app-DrF2tchn.js" defer></script>
  </body>
</html>
