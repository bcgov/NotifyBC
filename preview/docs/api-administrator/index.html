<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" type="image/x-icon" href="/NotifyBC/preview/favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title>Administrator | NotifyBC</title><meta name="description" content="A versatile notification API server">
    <link rel="preload" href="/NotifyBC/preview/assets/style-8fbc3cfb.css" as="style"><link rel="stylesheet" href="/NotifyBC/preview/assets/style-8fbc3cfb.css">
    <link rel="modulepreload" href="/NotifyBC/preview/assets/app-ba544f82.js"><link rel="modulepreload" href="/NotifyBC/preview/assets/index.html-7dc4890d.js"><link rel="modulepreload" href="/NotifyBC/preview/assets/index.html-500b1978.js"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-692e45cb.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-7d2ae716.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-15fde261.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-93ff6c80.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-09f857ca.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-70c61dd5.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a7337040.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-f8b7a659.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-ced62edd.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-88fcd172.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a2d4ab5c.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6b858d80.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-549ff1f9.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6e94f439.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-c46be575.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a70b6cf1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a9eb55a1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-f9768eb1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6bb621c5.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-bc520f9b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-42466a4a.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-3bc7b1c6.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-caa38aac.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-34c15120.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-2fb78bd6.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-963a4ecf.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-1d87c569.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a0e9a4ad.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-76d114a5.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-cdc6dd62.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-fae03536.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6ca7c7e1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-568e376b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-ccd9b97c.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-4c2b215a.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-602c2540.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParam.html-d51cd871.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamCode.html-293978be.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamExample.html-c90c301f.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/jmespathFilter.html-7c48b0c1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParam.html-10f3d62d.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamCode.html-33176c09.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamExample.html-68248e1c.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-03f8a171.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-19264e78.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-29bd8870.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-ef1500dc.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-bd0cffdd.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-cc63b311.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6514b7eb.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a441da19.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a77ecb8b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a61937fd.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a097fa05.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-95ba13be.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-a0e776ab.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6ee699b1.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-548e187b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-939ef288.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-eceeda5b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-4ce475d3.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-47bf2443.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-3815b5b3.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-10f7852b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-f3aa4d58.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6509de42.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-f0f82681.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-185e16f9.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-02e24ea7.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-fc3f73ce.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-dbbbddf0.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-abe2c9ad.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-b7b464cb.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-0674a2fa.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-d90ffb39.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-87730ffe.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-609f73f3.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-cbdb0453.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index.html-6a96d433.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParam.html-3e95294b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamCode.html-b823e447.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/filterQueryParamExample.html-fe526e7c.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/jmespathFilter.html-7b05d4bd.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParam.html-4d07261b.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamCode.html-873f2395.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/whereQueryParamExample.html-c75d23af.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/404.html-da40454f.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/NotifyBC/preview/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><div class="nb-navbar-brand"><a href="/NotifyBC/preview/" class=""><img class="logo" src="/NotifyBC/preview/img/logo.svg" alt="NotifyBC"></a><!----></div></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/NotifyBC/preview/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/preview/docs/" class="router-link-active" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/preview/help/" class="" aria-label="Help"><!--[--><!--]--> Help <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/bcgov/notifybc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/NotifyBC/preview/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/preview/docs/" class="router-link-active" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a href="/NotifyBC/preview/help/" class="" aria-label="Help"><!--[--><!--]--> Help <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/bcgov/notifybc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/preview/docs/" class="router-link-active sidebar-item" aria-label="Welcome"><!--[--><!--]--> Welcome <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/overview/" class="sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/quickstart/" class="sidebar-item" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/installation/" class="sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/web-console/" class="sidebar-item" aria-label="Web Console"><!--[--><!--]--> Web Console <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/what&#39;s-new/" class="sidebar-item" aria-label="What&#39;s New"><!--[--><!--]--> What&#39;s New <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Configuration <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/preview/docs/config-overview/" class="sidebar-item" aria-label="Configuration Overview"><!--[--><!--]--> Configuration Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-database/" class="sidebar-item" aria-label="Database"><!--[--><!--]--> Database <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-adminIpList/" class="sidebar-item" aria-label="Admin IP List"><!--[--><!--]--> Admin IP List <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-reverseProxyIpLists/" class="sidebar-item" aria-label="Reverse Proxy IP Lists"><!--[--><!--]--> Reverse Proxy IP Lists <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-httpHost/" class="sidebar-item" aria-label="HTTP Host"><!--[--><!--]--> HTTP Host <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-internalHttpHost/" class="sidebar-item" aria-label="Internal HTTP Host"><!--[--><!--]--> Internal HTTP Host <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-email/" class="sidebar-item" aria-label="Email"><!--[--><!--]--> Email <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-sms/" class="sidebar-item" aria-label="SMS"><!--[--><!--]--> SMS <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-subscription/" class="sidebar-item" aria-label="Subscription"><!--[--><!--]--> Subscription <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-notification/" class="sidebar-item" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-nodeRoles/" class="sidebar-item" aria-label="Node Roles"><!--[--><!--]--> Node Roles <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-cronJobs/" class="sidebar-item" aria-label="Cron Jobs"><!--[--><!--]--> Cron Jobs <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-rsaKeys/" class="sidebar-item" aria-label="RSA Keys"><!--[--><!--]--> RSA Keys <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-workerProcessCount/" class="sidebar-item" aria-label="Worker Process Count"><!--[--><!--]--> Worker Process Count <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-middleware/" class="sidebar-item" aria-label="Middleware"><!--[--><!--]--> Middleware <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-oidc/" class="sidebar-item" aria-label="OIDC"><!--[--><!--]--> OIDC <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/config-certificates/" class="sidebar-item" aria-label="TLS Certificates"><!--[--><!--]--> TLS Certificates <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">API <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/preview/docs/api-overview/" class="sidebar-item" aria-label="API Overview"><!--[--><!--]--> API Overview <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/api-subscription/" class="sidebar-item" aria-label="Subscription"><!--[--><!--]--> Subscription <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/api-notification/" class="sidebar-item" aria-label="Notification"><!--[--><!--]--> Notification <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/api-config/" class="sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Administrator"><!--[--><!--]--> Administrator <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#model-schemas" class="router-link-active router-link-exact-active sidebar-item" aria-label="Model Schemas"><!--[--><!--]--> Model Schemas <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#sign-up" class="router-link-active router-link-exact-active sidebar-item" aria-label="Sign Up"><!--[--><!--]--> Sign Up <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#login" class="router-link-active router-link-exact-active sidebar-item" aria-label="Login"><!--[--><!--]--> Login <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#set-password" class="router-link-active router-link-exact-active sidebar-item" aria-label="Set Password"><!--[--><!--]--> Set Password <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#get-administrators" class="router-link-active router-link-exact-active sidebar-item" aria-label="Get Administrators"><!--[--><!--]--> Get Administrators <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#get-administrator-count" class="router-link-active router-link-exact-active sidebar-item" aria-label="Get Administrator Count"><!--[--><!--]--> Get Administrator Count <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#delete-an-administrator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Delete an Administrator"><!--[--><!--]--> Delete an Administrator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#get-an-administrator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Get an Administrator"><!--[--><!--]--> Get an Administrator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#update-an-administrator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Update an Administrator"><!--[--><!--]--> Update an Administrator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#replace-an-administrator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Replace an Administrator"><!--[--><!--]--> Replace an Administrator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#get-an-administrator-s-accesstokens" class="router-link-active router-link-exact-active sidebar-item" aria-label="Get an Administrator&#39;s AccessTokens"><!--[--><!--]--> Get an Administrator&#39;s AccessTokens <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#update-an-administrator-s-accesstokens" class="router-link-active router-link-exact-active sidebar-item" aria-label="Update an Administrator&#39;s AccessTokens"><!--[--><!--]--> Update an Administrator&#39;s AccessTokens <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#create-an-administrator-s-accesstoken" class="router-link-active router-link-exact-active sidebar-item" aria-label="Create an Administrator&#39;s AccessToken"><!--[--><!--]--> Create an Administrator&#39;s AccessToken <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/NotifyBC/preview/docs/api-administrator/#delete-an-administrator-s-accesstokens" class="router-link-active router-link-exact-active sidebar-item" aria-label="Delete an Administrator&#39;s AccessTokens"><!--[--><!--]--> Delete an Administrator&#39;s AccessTokens <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/NotifyBC/preview/docs/api-bounce/" class="sidebar-item" aria-label="Bounce"><!--[--><!--]--> Bounce <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Miscellaneous <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/preview/docs/benchmarks/" class="sidebar-item" aria-label="Benchmarks"><!--[--><!--]--> Benchmarks <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/bulk-import/" class="sidebar-item" aria-label="Bulk Import"><!--[--><!--]--> Bulk Import <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/developer-notes/" class="sidebar-item" aria-label="Developer Notes"><!--[--><!--]--> Developer Notes <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/upgrade/" class="sidebar-item" aria-label="Upgrade Guide"><!--[--><!--]--> Upgrade Guide <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Meta <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/NotifyBC/preview/docs/conduct/" class="sidebar-item" aria-label="Code of Conduct"><!--[--><!--]--> Code of Conduct <!--[--><!--]--></a><!----></li><li><a href="/NotifyBC/preview/docs/acknowledgments/" class="sidebar-item" aria-label="Acknowledgments"><!--[--><!--]--> Acknowledgments <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="administrator" tabindex="-1"><a class="header-anchor" href="#administrator" aria-hidden="true">#</a> Administrator</h1><p>The administrator API provides knowledge factor authentication to identify admin request by access token (aka API token in other literatures) associated with a registered administrator maintained in <em>NotifyBC</em> database. Because knowledge factor authentication is vulnerable to brute-force attack, administrator API based access token authentication is less favorable than admin ip list, client certificate, or OIDC authentication.</p><div class="custom-container warning"><p class="custom-container-title">Avoid Administrator API</p><p>Administrator API was created to circumvent an OpenShift limitation - the source ip of a request initiated from an OpenShift pod cannot be exclusively allocated to the pod&#39;s project, rather it has to be shared by all OpenShift projects. Therefore it&#39;s difficult to impose granular access control based on source ip.</p><p>With the introduction client certificate in v2.4.0, most use cases, if not all, that need Administrator API including the OpenShift use case mentioned above can be addressed by client certificate. Therefore only use Administrator API sparingly as last resort.</p></div><p>To enable access token authentication,</p><ol><li><p>a super-admin <a href="#sign-up">signs up</a> an administrator</p><p>For example,</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:3000/api/administrators&quot;</span> <span class="token parameter variable">-H</span>  <span class="token string">&quot;accept: application/json&quot;</span> <span class="token parameter variable">-H</span>  <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>username<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>Foo<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>email<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>user@example.com<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>password<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>secret<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The step can also be completed in web console using <span style="vertical-align:text-bottom;" class="material-icons">add</span> button in Administrators panel.</p></li><li><p>Either super-admin or the user <a href="#login">login</a> to generate an access token</p><p>For example,</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token string">&quot;http://localhost:3000/api/administrators/login&quot;</span> <span class="token parameter variable">-H</span>  <span class="token string">&quot;accept: application/json&quot;</span> <span class="token parameter variable">-H</span>  <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>email<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>user@example.com<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>password<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>secret<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>tokenName<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>myApp<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The step can also be completed in web console GUI by an anonymous user using <span style="vertical-align:text-bottom;" class="material-icons">login</span> button at top right corner. Access token generated by GUI is valid for 12hrs.</p></li><li><p>Apply access token to either <em>Authorization</em> header or <em>access_token</em> query parameter to make authenticated requests. For example, to get a list of notifications</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">ACCESS_TOKEN</span><span class="token operator">=</span>6Nb2ti5QEXIoDBS5FQGWIz4poRFiBCMMYJbYXSGHWuulOuy0GTEuGx2VCEVvbpBK

<span class="token comment"># Authorization Header</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token parameter variable">-H</span> <span class="token string">&quot;Authorization: <span class="token variable">$ACCESS_TOKEN</span>&quot;</span> <span class="token punctuation">\</span>
http://localhost:3000/api/notifications

<span class="token comment"># Query Parameter</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET http://localhost:3000/api/notifications?access_token<span class="token operator">=</span><span class="token variable">$ACCESS_TOKEN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In web console, once login as administrator, the access token is automatically applied.</p></li></ol><h2 id="model-schemas" tabindex="-1"><a class="header-anchor" href="#model-schemas" aria-hidden="true">#</a> Model Schemas</h2><p>The <em>Administrator</em> API operates on three related sub-models - <em>Administrator</em>, <em>UserCredential</em> and <em>AccessToken</em>. An administrator has one and only one user credential and zero or more access tokens. Their relationship is diagramed as</p><img src="/NotifyBC/preview/img/admin-data-models.svg" alt="administrator model diagram"><h3 id="administrator-1" tabindex="-1"><a class="header-anchor" href="#administrator-1" aria-hidden="true">#</a> Administrator</h3><table><tr><th>Name</th><th>Attributes</th></tr><tr><td><p class="name">id</p></td><td><table><tr><td>type</td><td>string, format depends on db</td></tr><tr><td>auto-generated</td><td>true</td></tr></table></td></tr><tr><td><p class="name">email</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>true</td></tr><tr><td>unique</td><td>true</td></tr></table></td></tr><tr><td><p class="name">username</p><p class="description">user name</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>false</td></tr></table></td></tr></table><h3 id="usercredential" tabindex="-1"><a class="header-anchor" href="#usercredential" aria-hidden="true">#</a> UserCredential</h3><table><tr><th>Name</th><th>Attributes</th></tr><tr><td><p class="name">id</p></td><td><table><tr><td>type</td><td>string, format depends on db</td></tr><tr><td>auto-generated</td><td>true</td></tr></table></td></tr><tr><td><p class="name">password</p><p class="description">hashed password</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>true</td></tr></table></td></tr><tr><td><p class="name">userId</p><p class="description">foreign key to Administrator model</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>true</td></tr></table></td></tr></table><h3 id="accesstoken" tabindex="-1"><a class="header-anchor" href="#accesstoken" aria-hidden="true">#</a> AccessToken</h3><table><tr><th>Name</th><th>Attributes</th></tr><tr><td><p class="name">id</p><p class="description">64-byte random alphanumeric characters</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>auto-generated</td><td>true</td></tr></table></td></tr><tr><td><p class="name">userId</p><p class="description">foreign key to Administrator model</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>true</td></tr></table></td></tr><tr><td><p class="name">ttl</p><p class="description">Time-to-live in seconds. If absent, access token never expires.</p></td><td><table><tr><td>type</td><td>number</td></tr><tr><td>required</td><td>false</td></tr></table></td></tr><tr><td><p class="name">name</p><p class="description">Name of the access token. Can be used to identify applications that use the token.</p></td><td><table><tr><td>type</td><td>string</td></tr><tr><td>required</td><td>false</td></tr></table></td></tr></table><h2 id="sign-up" tabindex="-1"><a class="header-anchor" href="#sign-up" aria-hidden="true">#</a> Sign Up</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>POST /administrators
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin to create an admin.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li></ul></li><li><p>inputs</p><ul><li><p>user information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="password-complexity"></a>Password must meet following complexity rules:</p><ul><li>contains at least 10 characters</li><li>contains at least one lower case character a-z</li><li>contains at least one upper case character A-Z</li><li>contains at least one numeric character 0-9</li><li>contains at lease one special character in !_@#$&amp;*</li></ul><p><em>email</em> must be unique. <em>username</em> is optional.</p><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admin requests, <ul><li>an <em>Administrator</em> is generated, populated with <em>email</em> and <em>username</em></li><li>a <em>UserCredential</em> is generated, populated with hashed <em>password</em></li><li><em>Administrator</em> is returned</li></ul></li><li>forbidden otherwise</li></ul></li></ul><h2 id="login" tabindex="-1"><a class="header-anchor" href="#login" aria-hidden="true">#</a> Login</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>POST /administrators/login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows an admin to login and create an access token</p><ul><li><p>inputs</p><ul><li><p>user information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user@example.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tokenName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>tokenName</em> and <em>ttl</em> are optional. If <em>ttl</em> is <em>absent</em>, access token never expires.</p><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><ul><li>if login is successful <ul><li>a new <em>AccessToken</em> is generated with <em>tokenName</em> is saved to <em>AccessToken.name</em> and <em>ttl</em> is saved to <em>AccessToken.ttl</em>.</li><li>the new access token is returned<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>forbidden otherwise</li></ul></li></ul><h2 id="set-password" tabindex="-1"><a class="header-anchor" href="#set-password" aria-hidden="true">#</a> Set Password</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>POST /administrators/{id}/user-credential
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to create or update password by id. An admin can only create/update own record.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>password</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The password must meet complexity rules specified in <a href="#sign-up">Sign Up</a>.</p><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li></ul><ul><li>outcome <ul><li>for super-admins or admin, <ol><li>hash the input password</li><li>remove any existing <em>UserCredential.password</em> for the <em>Administrator</em></li><li>create a new <em>UserCredential.password</em></li></ol></li><li>forbidden otherwise</li></ul></li></ul><h2 id="get-administrators" tabindex="-1"><a class="header-anchor" href="#get-administrators" aria-hidden="true">#</a> Get Administrators</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET /administrators
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to search for administrators. An admin can only search for own record</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p>a filter containing properties <em>where</em>, <em>fields</em>, <em>order</em>, <em>skip</em>, and <em>limit</em></p><ul><li>parameter name: filter</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The filter can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for example <code>?filter[where][created][$gte]=&quot;2023-01-01&quot;&amp;filter[where][created][$lt]=&quot;2024-01-01&quot;</code></li></ol><p>Regardless, the filter will have to be parsed into a JSON object conforming to</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;order&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All properties are optional. The syntax for each property is documented, respectively</p><ul><li>for <em>where</em> , see MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>fields</em> , see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.select()" target="_blank" rel="noopener noreferrer">select<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>order</em>, see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.sort()" target="_blank" rel="noopener noreferrer">sort<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>skip</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.skip/" target="_blank" rel="noopener noreferrer">cursor.skip<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>limit</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.limit/" target="_blank" rel="noopener noreferrer">cursor.limit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admins, returns an array of <em>Administrators</em> matching the filter</li><li>for admins, returns an array of one element - own record if the record matches the filter; empty array otherwise</li><li>forbidden otherwise</li></ul></li><li><p>example</p><p>to retrieve administrators created in year 2023, run</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token parameter variable">--header</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/administrators?filter=%7B%22where%22%3A%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D%7D&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>the value of the filter query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="get-administrator-count" tabindex="-1"><a class="header-anchor" href="#get-administrator-count" aria-hidden="true">#</a> Get Administrator Count</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET /administrators/count
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to count administrators by filter. An admin can only count own record therefore the number is at most 1.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p>a <em>where</em> query parameter with value conforming to MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>parameter name: where</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The value can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for example <code>?where[created][$gte]=&quot;2023-01-01&quot;&amp;where[created][$lt]=&quot;2024-01-01&quot;</code></li></ol></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin, a count matching the filter</li><li>forbidden otherwise</li></ul></li><li><p>example</p><p>to retrieve the count of administrators created in year 2023 , run</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token parameter variable">--header</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/administrators/count?where=%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>the value of the <em>where</em> query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="delete-an-administrator" tabindex="-1"><a class="header-anchor" href="#delete-an-administrator" aria-hidden="true">#</a> Delete an Administrator</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>DELETE /administrators/{id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to delete administrator by id. An admin can only delete own record.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><em>Administrator</em> id <ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin <ul><li>all <em>AccessToken</em> of the <em>Administrator</em> are deleted</li><li>the corresponding <em>UserCredential</em> is deleted</li><li>the <em>Administrator</em> is deleted</li></ul></li><li>forbidden otherwise</li></ul></li></ul><h2 id="get-an-administrator" tabindex="-1"><a class="header-anchor" href="#get-an-administrator" aria-hidden="true">#</a> Get an Administrator</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET /administrators/{id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to get administrator by id. An admin can only get own record.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><em>Administrator</em> id <ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin, returns the <em>Administrator</em></li><li>forbidden otherwise</li></ul></li></ul><h2 id="update-an-administrator" tabindex="-1"><a class="header-anchor" href="#update-an-administrator" aria-hidden="true">#</a> Update an Administrator</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PATCH /administrators/{id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to update administrator fields by id. An admin can only update own record.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>user information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li></ul><ul><li>outcome <ul><li>for super-admins or admin, updates the <em>Administrator</em></li><li>forbidden otherwise</li></ul></li></ul><h2 id="replace-an-administrator" tabindex="-1"><a class="header-anchor" href="#replace-an-administrator" aria-hidden="true">#</a> Replace an Administrator</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PUT /administrators/{id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to replace administrator records by id. An admin can only replace own record. This API is different from <a href="#update-an-administrator">Update an Administrator</a> in that update/patch needs only to contain fields that are changed, ie the delta, whereas replace/put needs to contain all fields to be saved.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>user information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li></ul><ul><li>outcome <ul><li>for super-admins or admin, updates the <em>Administrator</em>. If <em>password</em> is also supplied, the password is handled same way as <a href="#set-password">Set Password</a> API</li><li>forbidden otherwise</li></ul></li></ul><h2 id="get-an-administrator-s-accesstokens" tabindex="-1"><a class="header-anchor" href="#get-an-administrator-s-accesstokens" aria-hidden="true">#</a> Get an Administrator&#39;s AccessTokens</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET /administrators/{id}/access-tokens
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to get access tokens by <em>Administrator</em> id. An admin can only get own records.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>a filter containing properties <em>where</em>, <em>fields</em>, <em>order</em>, <em>skip</em>, and <em>limit</em></p><ul><li>parameter name: filter</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The filter can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for example <code>?filter[where][created][$gte]=&quot;2023-01-01&quot;&amp;filter[where][created][$lt]=&quot;2024-01-01&quot;</code></li></ol><p>Regardless, the filter will have to be parsed into a JSON object conforming to</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;order&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
    <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> ...<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All properties are optional. The syntax for each property is documented, respectively</p><ul><li>for <em>where</em> , see MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>fields</em> , see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.select()" target="_blank" rel="noopener noreferrer">select<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>order</em>, see Mongoose <a href="https://mongoosejs.com/docs/api/query.html#Query.prototype.sort()" target="_blank" rel="noopener noreferrer">sort<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>skip</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.skip/" target="_blank" rel="noopener noreferrer">cursor.skip<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>for <em>limit</em>, see MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.limit/" target="_blank" rel="noopener noreferrer">cursor.limit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin, a list of <em>AccessToken</em>s matching the filter</li><li>forbidden otherwise</li></ul></li><li><p>example</p><p>to retrieve access tokens created in year 2023 for administrator with <em>id</em> of <em>1</em>, run</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET <span class="token parameter variable">--header</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/administrators/1/access-tokens?filter=%7B%22where%22%3A%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D%7D&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>the value of the filter query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;where&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="update-an-administrator-s-accesstokens" tabindex="-1"><a class="header-anchor" href="#update-an-administrator-s-accesstokens" aria-hidden="true">#</a> Update an Administrator&#39;s AccessTokens</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PATCH /administrators/{id}/access-tokens
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to update access tokens by <em>Administrator</em> id. An admin can only update own records.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>a <em>where</em> query parameter with value conforming to MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>parameter name: where</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The value can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for example <code>?where[created][$gte]=&quot;2023-01-01&quot;&amp;where[created][$lt]=&quot;2024-01-01&quot;</code></li></ol></li><li><p><em>AccessToken</em> information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin, success count</li><li>forbidden otherwise</li></ul></li><li><p>example</p><p>to set <em>ttl</em> token to <em>0</em> for all access tokens created in year 2023 for administrator with id 1, run</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> PATCH <span class="token parameter variable">--header</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/administrators/1/access-tokens?where=%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D&#39;</span> <span class="token parameter variable">-d</span> <span class="token string">&#39;{&quot;ttl&quot;:0}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>the value of the <em>where</em> query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="create-an-administrator-s-accesstoken" tabindex="-1"><a class="header-anchor" href="#create-an-administrator-s-accesstoken" aria-hidden="true">#</a> Create an Administrator&#39;s AccessToken</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>POST /administrators/{id}/access-tokens
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to create an access token by <em>Administrator</em> id. An admin can only create own records.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p><em>AccessToken</em> information</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>required: true</li><li>parameter type: request body</li><li>data type: object</li></ul></li></ul></li></ul><ul><li>outcome <ul><li>for super-admins or admin <ul><li>Create and save <em>AccessToken</em></li><li>return <em>AccessToken</em> created</li></ul></li><li>forbidden otherwise</li></ul></li></ul><h2 id="delete-an-administrator-s-accesstokens" tabindex="-1"><a class="header-anchor" href="#delete-an-administrator-s-accesstokens" aria-hidden="true">#</a> Delete an Administrator&#39;s AccessTokens</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>DELETE /administrators/{id}/access-tokens
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This API allows a super-admin or admin to delete access tokens by <em>Administrator</em> id. An admin can only delete own records.</p><ul><li><p>permissions required, one of</p><ul><li>super admin</li><li>admin</li></ul></li><li><p>inputs</p><ul><li><p><em>Administrator</em> id</p><ul><li>required: true</li><li>parameter type: path</li><li>data type: string</li></ul></li><li><p>a <em>where</em> query parameter with value conforming to MongoDB <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/" target="_blank" rel="noopener noreferrer">Query Documents<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>parameter name: where</li><li>required: false</li><li>parameter type: query</li><li>data type: object</li></ul><p>The value can be expressed as either</p><ol><li>URL-encoded stringified JSON object (see example below); or</li><li>in the format supported by <a href="https://github.com/ljharb/qs" target="_blank" rel="noopener noreferrer">qs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for example <code>?where[created][$gte]=&quot;2023-01-01&quot;&amp;where[created][$lt]=&quot;2024-01-01&quot;</code></li></ol></li></ul></li><li><p>outcome</p><ul><li>for super-admins or admin <ul><li>delete all <em>AccessToken</em> under the <em>Administrator</em> matching the filter</li><li>return success count</li></ul></li><li>forbidden otherwise</li></ul></li><li><p>example</p><p>to delete all access tokens created in year 2023 for administrator with id 1, run</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> DELETE <span class="token parameter variable">--header</span> <span class="token string">&#39;Accept: application/json&#39;</span> <span class="token string">&#39;http://localhost:3000/api/administrators/1/access-tokens?where=%7B%22created%22%3A%7B%22%24gte%22%3A%222023-01-01%22%2C%22%24lt%22%3A%222024-01-01%22%7D%7D&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>the value of the <em>where</em> query parameter is URL-encoded stringified JSON object</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;$gte&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;$lt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-01-01&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/NotifyBC/preview/docs/api-config/" class="" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></span><span class="next"><a href="/NotifyBC/preview/docs/api-bounce/" class="" aria-label="Bounce"><!--[--><!--]--> Bounce <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/NotifyBC/preview/assets/app-ba544f82.js" defer></script>
  </body>
</html>
