import{_ as i,r as o,o as l,c as r,a as n,b as s,d as e,w as c,e as a}from"./app-e5bc8aa8.js";const u={},d=n("h1",{id:"sms",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#sms","aria-hidden":"true"},"#"),s(" SMS")],-1),m=n("h2",{id:"provider",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#provider","aria-hidden":"true"},"#"),s(" Provider")],-1),v=n("p",null,[n("em",null,"NotifyBC"),s(" depends on underlying SMS service providers to deliver SMS messages. The supported service providers are")],-1),k={href:"https://twilio.com/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.swiftsmsgateway.com",target:"_blank",rel:"noopener noreferrer"},b=a(`<p>Only one service provider can be chosen per installation. To change service provider, add following config to file <em>/src/config.local.js</em></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  sms<span class="token operator">:</span> <span class="token punctuation">{</span>
    provider<span class="token operator">:</span> <span class="token string">&#39;swift&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="provider-settings" tabindex="-1"><a class="header-anchor" href="#provider-settings" aria-hidden="true">#</a> Provider Settings</h2><p>Provider specific settings are defined in config <em>sms.providerSettings</em>. You should have an account with the chosen service provider before proceeding.</p><h3 id="twilio" tabindex="-1"><a class="header-anchor" href="#twilio" aria-hidden="true">#</a> Twilio</h3><p>Add <em>sms.providerSettings.twilio</em> config object to file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">providerSettings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">twilio</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">accountSid</span><span class="token operator">:</span> <span class="token string">&#39;&lt;AccountSid&gt;&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">authToken</span><span class="token operator">:</span> <span class="token string">&#39;&lt;AuthToken&gt;&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fromNumber</span><span class="token operator">:</span> <span class="token string">&#39;&lt;FromNumber&gt;&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Obtain <em>&lt;AccountSid&gt;</em>, <em>&lt;AuthToken&gt;</em> and <em>&lt;FromNumber&gt;</em> from your Twilio account.</p><h3 id="swift" tabindex="-1"><a class="header-anchor" href="#swift" aria-hidden="true">#</a> Swift</h3><p>Add <em>sms.providerSettings.swift</em> config object to file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">providerSettings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">swift</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">accountKey</span><span class="token operator">:</span> <span class="token string">&#39;&lt;accountKey&gt;&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Obtain <em>&lt;accountKey&gt;</em> from your Swift account.</p><h4 id="unsubscription-by-replying-a-keyword" tabindex="-1"><a class="header-anchor" href="#unsubscription-by-replying-a-keyword" aria-hidden="true">#</a> Unsubscription by replying a keyword</h4><p>With Swift short code, sms user can unsubscribe by replying to a sms message with a keyword. The keyword must be pre-registered with Swift.</p><p>To enable this feature,</p>`,15),g=a(`<li><p>Generate a random string, hereafter referred to as <em>&lt;randomly-generated-string&gt;</em></p></li><li><p>Add it to <em>sms.providerSettings.swift.notifyBCSwiftKey</em> in file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">providerSettings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">swift</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">notifyBCSwiftKey</span><span class="token operator">:</span> <span class="token string">&#39;&lt;randomly-generated-string&gt;&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Go to Swift web admin console, click <em>Number Management</em> tab</p></li><li><p>Click <em>Launch</em> button next to <em>Manage Short Code Keywords</em></p></li><li><p>Click <em>Features</em> button next to the registered keyword(s). A keyword may have multiple entries. In such case do this for each entry.</p></li><li><p>Click <em>Redirect To Webpage</em> tab in the popup window</p></li>`,6),f=n("p",null,"Enter following information in the tab",-1),y=n("em",null,"URL",-1),w=n("em",null,"<NotifyBCHttpHost>/api/subscriptions/swift",-1),_=n("em",null,"<NotifyBCHttpHost>",-1),x=a("<li>set <em>Method</em> to <em>POST</em></li><li>set <em>Custom Parameter 1 Name</em> to <em>notifyBCSwiftKey</em></li><li>set <em>Custom Parameter 1 Value</em> to <em>&lt;randomly-generated-string&gt;</em></li>",3),S=n("li",null,[n("p",null,[s("Click "),n("em",null,"Save Changes"),s(" button and then "),n("em",null,"Done")])],-1),j=a(`<h2 id="throttle" tabindex="-1"><a class="header-anchor" href="#throttle" aria-hidden="true">#</a> Throttle</h2><p>All supported SMS service providers impose request rate limit. <em>NotifyBC</em> by default throttles request rate to 4/sec. To adjust the rate, create following config in file <em>/src/config.local.js</em></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">throttle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>where</p><ul><li><em>max</em> - max numbers of requests per duration. Default to 4.</li><li><em>duration</em> - time span in ms. Default to 1000.</li></ul><p>To disable throttle, set <em>sms.throttle.enabled</em> to <em>false</em> in file /src/config.local.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">throttle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function T(C,N){const t=o("ExternalLinkIcon"),p=o("RouterLink");return l(),r("div",null,[d,m,v,n("ul",null,[n("li",null,[n("a",k,[s("Twilio"),e(t)]),s(" (default)")]),n("li",null,[n("a",h,[s("Swift"),e(t)])])]),b,n("ol",null,[g,n("li",null,[f,n("ul",null,[n("li",null,[s("set "),y,s(" to "),w,s(", where "),_,s(" is NotifyBC HTTP host name and should be the same as "),e(p,{to:"/docs/config-httpHost/"},{default:c(()=>[s("HTTP Host")]),_:1}),s(" config")]),x])]),S]),j])}const A=i(u,[["render",T],["__file","index.html.vue"]]);export{A as default};
