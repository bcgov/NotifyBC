import{_ as a,c as n,e as s,o}from"./app-DjHicWte.js";const t={};function i(r,e){return o(),n("div",null,e[0]||(e[0]=[s(`<h1 id="memory-dump" tabindex="-1"><a class="header-anchor" href="#memory-dump"><span>Memory Dump</span></a></h1><p>To troubleshoot memory related issues, Super-admin can get a memory dump of <em>NotifyBC</em> by querying <code>/memory</code> API end point. For example</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">$ <span class="token function">curl</span> <span class="token parameter variable">-s</span> http://localhost:3000/api/memory</span>
<span class="line">Heap.20240513.114015.22037.0.001.heapsnapshot</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The output is the file name of the memory dump. The dump file can be loaded by, for example, Chrome DevTools.</p><p><em>fileName</em> query parameter can be used to specify the file path and name</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">$ <span class="token function">curl</span> <span class="token parameter variable">-s</span> http://localhost:3000/api/memory?fileName<span class="token operator">=</span>/tmp/my.heapsnapshot</span>
<span class="line">/tmp/my.heapsnapshot</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">How to get memory dump of a particular node?</p><p>If you call <code>/memory</code> from a client-facing URL end point, which is usually load balanced, the memory dump occurs only on node handling your request. To perform it on the node you want to troubleshoot, in particular the <em>primary</em> node, run the command from the node. Make sure 127.0.0.1 is in <em>adminIps</em>.</p></div>`,7)]))}const l=a(t,[["render",i],["__file","index.html.vue"]]),p=JSON.parse('{"path":"/docs/memory-dump/","title":"Memory Dump","lang":"en-US","frontmatter":{"permalink":"/docs/memory-dump/"},"headers":[],"git":{},"filePathRelative":"docs/miscellaneous/memory-dump.md"}');export{l as comp,p as data};
